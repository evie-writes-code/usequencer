#N canvas 0 23 1440 855 10;
#X obj 300 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 350 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 400 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 450 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 500 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 550 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 600 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 650 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 700 41 cnv 15 40 178 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 335 81 cnv 5 5 138 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 375 81 cnv 5 5 138 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 385 41 cnv 5 5 32 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 418 81 cnv 5 5 50 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 485 81 cnv 5 5 50 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 535 81 cnv 5 5 5 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 535 96 cnv 5 5 35 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 585 81 cnv 5 5 20 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 550 101 cnv 5 5 30 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 635 81 cnv 5 5 20 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 600 101 cnv 5 5 30 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 668 81 cnv 5 5 50 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 725 81 cnv 5 5 138 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 735 41 cnv 5 5 32 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 150 175 bng 20 250 50 0 \$0-omni_strip_0_s \$0-omni_strip_0_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 170 175 bng 20 250 50 0 \$0-omni_strip_1_s \$0-omni_strip_1_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 190 175 bng 20 250 50 0 \$0-omni_strip_2_s \$0-omni_strip_2_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 210 175 bng 20 250 50 0 \$0-omni_strip_3_s \$0-omni_strip_3_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 230 175 bng 20 250 50 0 \$0-omni_strip_4_s \$0-omni_strip_4_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 250 175 bng 20 250 50 0 \$0-omni_strip_5_s \$0-omni_strip_5_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 270 175 bng 20 250 50 0 \$0-omni_strip_6_s \$0-omni_strip_6_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 290 175 bng 20 250 50 0 \$0-omni_strip_7_s \$0-omni_strip_7_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 310 175 bng 20 250 50 0 \$0-omni_strip_8_s \$0-omni_strip_8_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 330 175 bng 20 250 50 0 \$0-omni_strip_9_s \$0-omni_strip_9_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 350 175 bng 20 250 50 0 \$0-omni_strip_10_s \$0-omni_strip_10_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 370 175 bng 20 250 50 0 \$0-omni_strip_11_s \$0-omni_strip_11_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 390 175 bng 20 250 50 0 \$0-omni_strip_12_s \$0-omni_strip_12_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 410 175 bng 20 250 50 0 \$0-omni_strip_13_s \$0-omni_strip_13_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 430 175 bng 20 250 50 0 \$0-omni_strip_14_s \$0-omni_strip_14_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 450 175 bng 20 250 50 0 \$0-omni_strip_15_s \$0-omni_strip_15_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 470 175 bng 20 250 50 0 \$0-omni_strip_16_s \$0-omni_strip_16_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 490 175 bng 20 250 50 0 \$0-omni_strip_17_s \$0-omni_strip_17_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 510 175 bng 20 250 50 0 \$0-omni_strip_18_s \$0-omni_strip_18_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 530 175 bng 20 250 50 0 \$0-omni_strip_19_s \$0-omni_strip_19_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 550 175 bng 20 250 50 0 \$0-omni_strip_20_s \$0-omni_strip_20_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 570 175 bng 20 250 50 0 \$0-omni_strip_21_s \$0-omni_strip_21_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 590 175 bng 20 250 50 0 \$0-omni_strip_22_s \$0-omni_strip_22_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 610 175 bng 20 250 50 0 \$0-omni_strip_23_s \$0-omni_strip_23_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 630 175 bng 20 250 50 0 \$0-omni_strip_24_s \$0-omni_strip_24_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 650 175 bng 20 250 50 0 \$0-omni_strip_25_s \$0-omni_strip_25_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 670 175 bng 20 250 50 0 \$0-omni_strip_26_s \$0-omni_strip_26_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 690 175 bng 20 250 50 0 \$0-omni_strip_27_s \$0-omni_strip_27_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 710 175 bng 20 250 50 0 \$0-omni_strip_28_s \$0-omni_strip_28_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 730 175 bng 20 250 50 0 \$0-omni_strip_29_s \$0-omni_strip_29_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 750 175 bng 20 250 50 0 \$0-omni_strip_30_s \$0-omni_strip_30_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 770 175 bng 20 250 50 0 \$0-omni_strip_31_s \$0-omni_strip_31_r
empty 0 0 0 10 -262144 -1 -1;
#X obj 150 175 cnv 20 20 35 \$0-omni_strip_canv_0_s \$0-omni_strip_canv_0_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 170 175 cnv 15 20 35 \$0-omni_strip_canv_1_s \$0-omni_strip_canv_1_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 190 175 cnv 15 20 35 \$0-omni_strip_canv_2_s \$0-omni_strip_canv_2_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 210 175 cnv 15 20 35 \$0-omni_strip_canv_3_s \$0-omni_strip_canv_3_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 230 175 cnv 15 20 35 \$0-omni_strip_canv_4_s \$0-omni_strip_canv_4_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 250 175 cnv 15 20 35 \$0-omni_strip_canv_5_s \$0-omni_strip_canv_5_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 270 175 cnv 15 20 35 \$0-omni_strip_canv_6_s \$0-omni_strip_canv_6_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 290 175 cnv 15 20 35 \$0-omni_strip_canv_7_s \$0-omni_strip_canv_7_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 310 175 cnv 15 20 35 \$0-omni_strip_canv_8_s \$0-omni_strip_canv_8_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 330 175 cnv 15 20 35 \$0-omni_strip_canv_9_s \$0-omni_strip_canv_9_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 350 175 cnv 15 20 35 \$0-omni_strip_canv_10_s \$0-omni_strip_canv_10_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 370 175 cnv 15 20 35 \$0-omni_strip_canv_11_s \$0-omni_strip_canv_11_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 390 175 cnv 15 20 35 \$0-omni_strip_canv_12_s \$0-omni_strip_canv_12_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 410 175 cnv 15 20 35 \$0-omni_strip_canv_13_s \$0-omni_strip_canv_13_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 430 175 cnv 15 20 35 \$0-omni_strip_canv_14_s \$0-omni_strip_canv_14_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 450 175 cnv 15 20 35 \$0-omni_strip_canv_15_s \$0-omni_strip_canv_15_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 470 175 cnv 15 20 35 \$0-omni_strip_canv_16_s \$0-omni_strip_canv_16_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 490 175 cnv 15 20 35 \$0-omni_strip_canv_17_s \$0-omni_strip_canv_17_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 510 175 cnv 15 20 35 \$0-omni_strip_canv_18_s \$0-omni_strip_canv_18_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 530 175 cnv 15 20 35 \$0-omni_strip_canv_19_s \$0-omni_strip_canv_19_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 550 175 cnv 15 20 35 \$0-omni_strip_canv_20_s \$0-omni_strip_canv_20_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 570 175 cnv 15 20 35 \$0-omni_strip_canv_21_s \$0-omni_strip_canv_21_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 590 175 cnv 15 20 35 \$0-omni_strip_canv_22_s \$0-omni_strip_canv_22_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 610 175 cnv 15 20 35 \$0-omni_strip_canv_23_s \$0-omni_strip_canv_23_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 630 175 cnv 15 20 35 \$0-omni_strip_canv_24_s \$0-omni_strip_canv_24_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 650 175 cnv 15 20 35 \$0-omni_strip_canv_25_s \$0-omni_strip_canv_25_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 670 175 cnv 15 20 35 \$0-omni_strip_canv_26_s \$0-omni_strip_canv_26_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 690 175 cnv 15 20 35 \$0-omni_strip_canv_27_s \$0-omni_strip_canv_27_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 710 175 cnv 15 20 35 \$0-omni_strip_canv_28_s \$0-omni_strip_canv_28_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 730 175 cnv 15 20 35 \$0-omni_strip_canv_29_s \$0-omni_strip_canv_29_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 750 175 cnv 15 20 35 \$0-omni_strip_canv_30_s \$0-omni_strip_canv_30_r
empty 20 12 0 14 -241339 -66577 0;
#X obj 770 175 cnv 15 20 35 \$0-omni_strip_canv_31_s \$0-omni_strip_canv_31_r
empty 20 12 0 14 -241339 -66577 0;
#X floatatom 150 195 3 0 0 0 - #0-omni_strip_vel_0_r #0-omni_strip_vel_0_s
, f 3;
#X floatatom 170 195 3 0 0 0 - #0-omni_strip_vel_1_r #0-omni_strip_vel_1_s
, f 3;
#X floatatom 190 195 3 0 0 0 - #0-omni_strip_vel_2_r #0-omni_strip_vel_2_s
, f 3;
#X floatatom 210 195 3 0 0 0 - #0-omni_strip_vel_3_r #0-omni_strip_vel_3_s
, f 3;
#X floatatom 230 195 3 0 0 0 - #0-omni_strip_vel_4_r #0-omni_strip_vel_4_s
, f 3;
#X floatatom 250 195 3 0 0 0 - #0-omni_strip_vel_5_r #0-omni_strip_vel_5_s
, f 3;
#X floatatom 270 195 3 0 0 0 - #0-omni_strip_vel_6_r #0-omni_strip_vel_6_s
, f 3;
#X floatatom 290 195 3 0 0 0 - #0-omni_strip_vel_7_r #0-omni_strip_vel_7_s
, f 3;
#X floatatom 310 195 3 0 0 0 - #0-omni_strip_vel_8_r #0-omni_strip_vel_8_s
, f 3;
#X floatatom 330 195 3 0 0 0 - #0-omni_strip_vel_9_r #0-omni_strip_vel_9_s
, f 3;
#X floatatom 350 195 3 0 0 0 - #0-omni_strip_vel_10_r #0-omni_strip_vel_10_s
, f 3;
#X floatatom 370 195 3 0 0 0 - #0-omni_strip_vel_11_r #0-omni_strip_vel_11_s
, f 3;
#X floatatom 390 195 3 0 0 0 - #0-omni_strip_vel_12_r #0-omni_strip_vel_12_s
, f 3;
#X floatatom 410 195 3 0 0 0 - #0-omni_strip_vel_13_r #0-omni_strip_vel_13_s
, f 3;
#X floatatom 430 195 3 0 0 0 - #0-omni_strip_vel_14_r #0-omni_strip_vel_14_s
, f 3;
#X floatatom 450 195 3 0 0 0 - #0-omni_strip_vel_15_r #0-omni_strip_vel_15_s
, f 3;
#X floatatom 470 195 3 0 0 0 - #0-omni_strip_vel_16_r #0-omni_strip_vel_16_s
, f 3;
#X floatatom 490 195 3 0 0 0 - #0-omni_strip_vel_17_r #0-omni_strip_vel_17_s
, f 3;
#X floatatom 510 195 3 0 0 0 - #0-omni_strip_vel_18_r #0-omni_strip_vel_18_s
, f 3;
#X floatatom 530 195 3 0 0 0 - #0-omni_strip_vel_19_r #0-omni_strip_vel_19_s
, f 3;
#X floatatom 550 195 3 0 0 0 - #0-omni_strip_vel_20_r #0-omni_strip_vel_20_s
, f 3;
#X floatatom 570 195 3 0 0 0 - #0-omni_strip_vel_21_r #0-omni_strip_vel_21_s
, f 3;
#X floatatom 590 195 3 0 0 0 - #0-omni_strip_vel_22_r #0-omni_strip_vel_22_s
, f 3;
#X floatatom 610 195 3 0 0 0 - #0-omni_strip_vel_23_r #0-omni_strip_vel_23_s
, f 3;
#X floatatom 630 195 3 0 0 0 - #0-omni_strip_vel_24_r #0-omni_strip_vel_24_s
, f 3;
#X floatatom 650 195 3 0 0 0 - #0-omni_strip_vel_25_r #0-omni_strip_vel_25_s
, f 3;
#X floatatom 670 195 3 0 0 0 - #0-omni_strip_vel_26_r #0-omni_strip_vel_26_s
, f 3;
#X floatatom 690 195 3 0 0 0 - #0-omni_strip_vel_27_r #0-omni_strip_vel_27_s
, f 3;
#X floatatom 710 195 3 0 0 0 - #0-omni_strip_vel_28_r #0-omni_strip_vel_28_s
, f 3;
#X floatatom 730 195 3 0 0 0 - #0-omni_strip_vel_29_r #0-omni_strip_vel_29_s
, f 3;
#X floatatom 750 195 3 0 0 0 - #0-omni_strip_vel_30_r #0-omni_strip_vel_30_s
, f 3;
#X floatatom 770 195 3 0 0 0 - #0-omni_strip_vel_31_r #0-omni_strip_vel_31_s
, f 3;
#X obj 150 139 cnv 15 80 35 \$0-breakbeat_canv_0_s \$0-breakbeat_canv_0_r
empty 20 12 0 14 -230417 -66577 0;
#X obj 230 139 cnv 15 80 35 \$0-breakbeat_canv_1_s \$0-breakbeat_canv_1_r
empty 20 12 0 14 -231457 -66577 0;
#X obj 310 139 cnv 15 80 35 \$0-breakbeat_canv_2_s \$0-breakbeat_canv_2_r
empty 20 12 0 14 -231457 -66577 0;
#X obj 390 139 cnv 15 80 35 \$0-breakbeat_canv_3_s \$0-breakbeat_canv_3_r
empty 20 12 0 14 -231457 -66577 0;
#X obj 470 139 cnv 15 80 35 \$0-breakbeat_canv_4_s \$0-breakbeat_canv_4_r
empty 20 12 0 14 -230417 -66577 0;
#X obj 550 139 cnv 15 80 35 \$0-breakbeat_canv_5_s \$0-breakbeat_canv_5_r
empty 20 12 0 14 -231457 -66577 0;
#X obj 630 139 cnv 15 80 35 \$0-breakbeat_canv_6_s \$0-breakbeat_canv_6_r
empty 20 12 0 14 -231457 -66577 0;
#X obj 710 139 cnv 15 80 35 \$0-breakbeat_canv_7_s \$0-breakbeat_canv_7_r
empty 20 12 0 14 -231457 -66577 0;
#N canvas 662 48 778 652 breakbeat_draw_update 0;
#X obj 166 537 pack f f f;
#X obj 242 501 loadbang;
#X obj 242 521 f \$0;
#X msg 166 558 \; \$3-breakbeat_canv_\$1_r color \$2;
#X obj 166 153 unpack f f;
#X text 94 105 breakbeat chunk [0...7] \, active/inactive [1 \, 0]
;
#X obj 224 334 route 0 1;
#X obj 223 233 expr if($f1 == 0 || $f1 == 4 \, 1 \, 0);
#X obj 166 214 swap, f 10;
#X obj 104 311 spigot;
#X obj 257 291 == 0;
#X obj 224 311 spigot;
#X obj 166 254 t f f;
#X obj 104 334 route 0 1;
#X obj 166 184 t f f, f 49;
#X obj 166 469 swap, f 49;
#X obj 223 254 t f f;
#X msg 224 374 224 224 224;
#X msg 104 374 128 128 128;
#X msg 129 354 224 64 64;
#X msg 249 354 224 128 128;
#X obj 166 132 r \$0-breakbeat_cells_draw_update;
#X obj 166 437 uutil/headless/rgbtopdcolour;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 2;
#X connect 4 0 14 0;
#X connect 4 1 8 1;
#X connect 6 0 17 0;
#X connect 6 1 20 0;
#X connect 7 0 16 0;
#X connect 8 0 12 0;
#X connect 8 1 7 0;
#X connect 9 0 13 0;
#X connect 10 0 11 1;
#X connect 11 0 6 0;
#X connect 12 0 9 0;
#X connect 12 1 11 0;
#X connect 13 0 18 0;
#X connect 13 1 19 0;
#X connect 14 0 8 0;
#X connect 14 1 15 1;
#X connect 15 0 0 0;
#X connect 15 1 0 1;
#X connect 16 0 9 1;
#X connect 16 1 10 0;
#X connect 17 0 22 0;
#X connect 18 0 22 0;
#X connect 19 0 22 0;
#X connect 20 0 22 0;
#X connect 21 0 4 0;
#X connect 22 0 15 0;
#X restore 46 625 pd breakbeat_draw_update;
#N canvas 0 23 1311 748 intrument_label_draw_update 0;
#X obj 649 690 pack s f;
#X obj 694 650 loadbang;
#X obj 694 671 f \$0;
#X msg 649 711 \; \$2-instrument_label_canv_r label \$1;
#X obj 78 52 r \$0-current_instrument_s;
#X msg 78 674 kick_1;
#X msg 97 654 kick_2;
#X msg 117 634 side_stick;
#X msg 137 614 snare_1;
#X msg 156 594 hand_clap;
#X msg 176 574 snare_2;
#X msg 215 534 hat_closed;
#X msg 255 494 hat_pedal;
#X msg 275 474 low_tom;
#X msg 294 454 hat_open;
#X msg 353 394 crash_1;
#X msg 373 374 high_tom;
#X msg 393 354 ride_1;
#X msg 412 334 high_cymbal;
#X msg 432 314 ride_bell;
#X msg 452 294 tambourine;
#X msg 472 274 splash;
#X msg 491 254 cowbell;
#X msg 511 234 crash_2;
#X msg 531 214 vibraslap;
#X msg 550 194 ride_2;
#X msg 570 174 high_bongo;
#X msg 590 154 low_bongo;
#X msg 649 94 low_conga;
#X obj 78 73 route 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19
20 21 22 23 24 25 26 27 28 29, f 99;
#X msg 334 414 hi_mid_tom;
#X msg 314 434 lo_mid_tom;
#X msg 235 514 hi_flr_tom;
#X msg 196 554 lo_flr_tom;
#X msg 609 134 hi_conga_mu;
#X msg 629 114 hi_conga_op;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 4 0 29 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 23 0 0 0;
#X connect 24 0 0 0;
#X connect 25 0 0 0;
#X connect 26 0 0 0;
#X connect 27 0 0 0;
#X connect 28 0 0 0;
#X connect 29 0 5 0;
#X connect 29 1 6 0;
#X connect 29 2 7 0;
#X connect 29 3 8 0;
#X connect 29 4 9 0;
#X connect 29 5 10 0;
#X connect 29 6 33 0;
#X connect 29 7 11 0;
#X connect 29 8 32 0;
#X connect 29 9 12 0;
#X connect 29 10 13 0;
#X connect 29 11 14 0;
#X connect 29 12 31 0;
#X connect 29 13 30 0;
#X connect 29 14 15 0;
#X connect 29 15 16 0;
#X connect 29 16 17 0;
#X connect 29 17 18 0;
#X connect 29 18 19 0;
#X connect 29 19 20 0;
#X connect 29 20 21 0;
#X connect 29 21 22 0;
#X connect 29 22 23 0;
#X connect 29 23 24 0;
#X connect 29 24 25 0;
#X connect 29 25 26 0;
#X connect 29 26 27 0;
#X connect 29 27 34 0;
#X connect 29 28 35 0;
#X connect 29 29 28 0;
#X connect 30 0 0 0;
#X connect 31 0 0 0;
#X connect 32 0 0 0;
#X connect 33 0 0 0;
#X connect 34 0 0 0;
#X connect 35 0 0 0;
#X restore 46 685 pd intrument_label_draw_update;
#X obj 69 50 cnv 15 160 45 \$0-instrument_label_canv_s \$0-instrument_label_canv_r
kick_1 6 23 0 20 -228856 -66577 0;
#X obj 229 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 309 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 389 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 469 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 549 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 629 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 709 144 cnv 2 2 25 empty empty empty 20 12 0 14 -1 -66577 0
;
#N canvas 178 414 450 300 current_step_draw_update 0;
#X obj 104 264 tabwrite \$0-step;
#X msg 149 100 0;
#X obj 104 131 f, f 8;
#X obj 149 152 + 1;
#X obj 104 69 t b b, f 8;
#X msg 104 90 32;
#X obj 104 111 until;
#X obj 104 203 ==, f 19;
#X obj 104 49 t b f, f 19;
#X obj 104 183 t f f, f 16;
#X obj 104 28 r \$0-current_step_s;
#X obj 104 245 + 1;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 2 0 9 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 11 0;
#X connect 8 0 4 0;
#X connect 8 1 7 1;
#X connect 9 0 7 0;
#X connect 9 1 0 1;
#X connect 10 0 8 0;
#X connect 11 0 0 0;
#X restore 46 656 pd current_step_draw_update;
#N canvas 959 23 480 366 initialize 0;
#X obj 33 21 loadbang;
#X msg 78 72 0;
#X obj 33 103 f, f 8;
#X obj 78 124 + 1;
#X obj 33 41 t b b, f 8;
#X obj 33 83 until;
#X msg 33 62 8;
#X obj 358 19 loadbang;
#X msg 158 35 0;
#X obj 158 56 s \$0-current_step_r;
#X obj 298 56 s \$0-current_instrument_r;
#X msg 288 35 0;
#X msg 43 187 1 \$1;
#X obj 288 76 s \$0-current_instrument_s;
#X msg 51 145 \$1 1;
#X obj 51 166 s \$0-breakbeat_cells_draw_update;
#X obj 73 208 tabwrite \$0-breakbeat_cells_active;
#X obj 53 248 tabwrite \$0-breakbeat_cells_saved;
#X obj 33 288 tabwrite \$0-breakbeat_cells_current_keys_held;
#X obj 63 228 tabwrite \$0-breakbeat_cells_active_buffer;
#X msg 33 268 0 \$1;
#X connect 0 0 4 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 2 0 12 0;
#X connect 2 0 14 0;
#X connect 2 0 20 0;
#X connect 3 0 2 1;
#X connect 4 0 6 0;
#X connect 4 1 1 0;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 11 0 10 0;
#X connect 11 0 13 0;
#X connect 12 0 17 0;
#X connect 12 0 16 0;
#X connect 12 0 19 0;
#X connect 14 0 15 0;
#X connect 20 0 18 0;
#X restore 46 775 pd initialize;
#N canvas 0 23 450 278 (subpatch) 0;
#X array \$0-step 32 float 2;
#X coords 0 0 32 0.1 640 1 1 0 0;
#X restore 150 139 graph;
#X obj 854 31 inlet;
#X text 812 11 bang to step forward;
#X obj 1034 31 inlet;
#X text 802 551 midi notes out [0 \, note \, vel(;
#X obj 854 531 outlet;
#X obj 1214 531 outlet;
#X text 1182 551 current step out;
#X obj 1214 510 r \$0-current_step_s;
#X text 205 399 makeshift 2 dimensional array for individual instruments
;
#N canvas 581 23 713 758 step_forward 0;
#X obj 46 26 inlet;
#X obj 46 77 f;
#X text 196 66 current step;
#X obj 46 138 mod 4;
#X obj 46 98 t f f, f 8;
#X obj 46 159 == 0;
#X obj 46 180 pack f f;
#X obj 61 56 r \$0-current_step_r;
#X obj 46 118 + 1;
#X obj 81 240 s \$0-current_step_r;
#X obj 46 200 route 1 0;
#X obj 71 220 + 1;
#X obj 71 261 s \$0-current_step_s;
#X text 209 242 if within a 4 bit wide 'cell' \, simply increment and
update current step;
#X text 161 451 if at the end of the current cell: search for the next
active cell and update current step to the beginning of that cell;
#X obj 46 346 expr floor($f1/4);
#X obj 46 367 t f f, f 14;
#N canvas 0 23 450 365 find_next_cell 0;
#X obj 47 29 inlet;
#X obj 47 50 t b b f, f 12;
#X obj 47 92 until;
#X obj 47 113 f, f 7;
#X obj 47 134 + 1;
#X msg 86 71 0;
#X obj 47 154 +, f 12;
#X msg 47 71 8;
#X obj 47 175 mod 8;
#X obj 47 235 spigot;
#X obj 47 196 t f f, f 6;
#X obj 47 256 t f b;
#X obj 47 277 * 4;
#X obj 57 298 s \$0-current_step_r;
#X obj 47 319 s \$0-current_step_s;
#X obj 80 216 tabread \$0-breakbeat_cells_active_buffer;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 5 0;
#X connect 1 2 6 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 3 1;
#X connect 4 0 6 0;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 10 1 15 0;
#X connect 11 0 12 0;
#X connect 11 1 2 1;
#X connect 12 0 13 0;
#X connect 12 0 14 0;
#X connect 15 0 9 1;
#X restore 46 455 pd find_next_cell;
#N canvas 558 410 450 300 deactivate_old_cell 0;
#X obj 94 35 inlet;
#X obj 127 77 tabread \$0-breakbeat_cells_active;
#X obj 127 98 == 0;
#X obj 94 119 spigot;
#X obj 94 56 t f f, f 6;
#X msg 94 161 0 \$1;
#X obj 94 201 tabwrite \$0-breakbeat_cells_active_buffer;
#X obj 94 140 t f f, f 8;
#X msg 139 161 \$1 0;
#X obj 139 181 s \$0-breakbeat_cells_draw_update;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 7 0 5 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X restore 127 388 pd deactivate_old_cell;
#X text 274 388 if the current (old) cell needs deactivation \, does
that;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 8 0;
#X connect 4 1 6 1;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 7 0 1 1;
#X connect 8 0 3 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 9 0;
#X connect 11 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 18 0;
#X restore 854 52 pd step_forward;
#N canvas 0 23 450 278 (subpatch) 0;
#X array \$0-breakbeat_cells_active 8 float 2;
#X coords 0 1 8 0 80 10 1 0 0;
#X restore 206 270 graph;
#X obj 1074 31 inlet;
#N canvas 0 389 1440 454 midi_breakout_scene_1_pots 0;
#X obj 21 26 inlet;
#X obj 21 154 spigot, f 10;
#X obj 105 199 +;
#X obj 120 158 r \$0-sequence_selector;
#X obj 120 179 * 8;
#X obj 21 261 s, f 8;
#X obj 105 220 pack f f;
#X obj 150 179 loadbang;
#X obj 150 200 f \$0;
#X obj 21 47 unpack f f;
#X obj 21 68 swap, f 10;
#X obj 78 110 < 8;
#X obj 78 89 t f f;
#X msg 105 241 symbol \$2-omni_strip_vel_\$1_r;
#X obj 147 77 r \$0-current_programming_mode;
#X obj 78 134 &&;
#X obj 147 98 == 1;
#X connect 0 0 9 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 6 0 13 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 1 0;
#X connect 10 1 12 0;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 12 1 2 0;
#X connect 13 0 5 1;
#X connect 14 0 16 0;
#X connect 15 0 1 1;
#X connect 16 0 15 1;
#X restore 1074 142 pd midi_breakout_scene_1_pots;
#N canvas 0 249 1440 496 midi_breakout_scene_1_buttons 0;
#X obj 27 21 inlet;
#X msg 27 64 0 \$1;
#X msg 76 64 1 \$1;
#X msg 125 64 2 \$1;
#X msg 174 64 3 \$1;
#X obj 27 42 route 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17, f
148;
#X obj 27 165 mono;
#X msg 223 64 4 \$1;
#X msg 272 64 5 \$1;
#X msg 322 64 6 \$1;
#X msg 371 64 7 \$1;
#X obj 27 187 expr if($f2 == 0 \, -1 \, $f1);
#X obj 27 208 moses 0;
#X obj 66 229 moses 4;
#X msg 27 290 0;
#X msg 66 290 1;
#X msg 105 290 2;
#X obj 27 317 s \$0-current_programming_mode;
#X obj 76 270 s \$0-sequence_selector;
#X obj 116 250 s \$0-instrument_selector;
#X obj 467 188 list prepend;
#X msg 469 64 0 \$1;
#X msg 518 64 1 \$1;
#X msg 567 64 2 \$1;
#X msg 617 64 3 \$1;
#X msg 666 64 4 \$1;
#X msg 715 64 5 \$1;
#X msg 764 64 6 \$1;
#X msg 813 64 7 \$1;
#X obj 536 167 r \$0-current_programming_mode;
#X obj 467 209 route 0 1 2, f 70;
#N canvas 492 23 948 855 breakbeat_handler 0;
#X obj 55 7 inlet;
#X obj 55 28 unpack f f, f 12;
#X obj 124 48 == 127;
#X obj 55 68 list prepend;
#X obj 55 89 route 1 0;
#N canvas 401 23 674 444 check_array_positives 0;
#X obj 80 29 inlet;
#X msg 80 73 8;
#X obj 80 94 until;
#X obj 80 115 f, f 6;
#X obj 98 136 + 1;
#X msg 125 73 0;
#X obj 110 196 f;
#X obj 80 197 ||;
#X msg 160 72 0;
#X obj 80 156 t f f, f 46;
#X obj 80 218 spigot, f 46;
#X obj 353 176 == 7;
#X obj 80 50 t b b b, f 11;
#X obj 80 240 outlet;
#X text 223 100 checks to see if there are any positives in the current
array. Outputs a 1 for any positive \, 0 for no positives.;
#X obj 80 176 tabread \$0-breakbeat_cells_current_keys_held;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 9 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 1;
#X connect 7 0 10 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 15 0;
#X connect 9 1 11 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 1 0;
#X connect 12 1 5 0;
#X connect 12 2 8 0;
#X connect 15 0 7 0;
#X restore 106 353 pd check_array_positives;
#X obj 55 332 t f b, f 9;
#X obj 55 405 t f f, f 8;
#X obj 100 447 tabwrite \$0-breakbeat_cells_current_keys_held;
#X obj 55 467 unpack f f, f 34;
#X msg 100 426 1 \$1;
#X msg 55 446 1 \$1;
#N canvas 487 23 450 300 update_active_buffer_and_active 0;
#X obj 84 43 inlet;
#X obj 171 43 inlet;
#X obj 84 154 swap, f 15;
#X obj 84 175 pack f f, f 15;
#X obj 84 196 s \$0-breakbeat_cells_draw_update;
#X obj 98 111 tabwrite \$0-breakbeat_cells_active;
#X obj 171 64 t f f f, f 8;
#X obj 84 64 t f f f;
#X obj 98 131 tabwrite \$0-breakbeat_cells_active_buffer;
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 6 0 2 1;
#X connect 6 1 5 1;
#X connect 6 2 8 1;
#X connect 7 0 2 0;
#X connect 7 1 5 0;
#X connect 7 2 8 0;
#X restore 55 488 pd update_active_buffer_and_active;
#N canvas 432 340 674 444 check_array_positives 0;
#X obj 80 29 inlet;
#X msg 80 73 8;
#X obj 80 94 until;
#X obj 80 115 f, f 6;
#X obj 98 136 + 1;
#X msg 123 73 0;
#X obj 110 196 f;
#X obj 80 197 ||;
#X msg 167 72 0;
#X obj 80 218 spigot, f 46;
#X obj 353 176 == 7;
#X obj 80 240 outlet;
#X text 263 100 checks to see if there are any positives in the current
array. Outputs a 1 for any positive \, 0 for no positives.;
#X obj 80 50 t b b b, f 15;
#X obj 80 156 t f f, f 46;
#X obj 80 176 tabread \$0-breakbeat_cells_current_keys_held;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 14 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 13 0 1 0;
#X connect 13 1 5 0;
#X connect 13 2 8 0;
#X connect 14 0 15 0;
#X connect 14 1 10 0;
#X connect 15 0 7 0;
#X restore 99 190 pd check_array_positives;
#X obj 119 149 tabwrite \$0-breakbeat_cells_current_keys_held;
#X msg 119 129 0 \$1;
#X text 214 122 update 'current keys held' array;
#X text 277 221 if there are no other keys held \, i.e. this is the
last key being released \, copy current 'saved' array to the 'active'
and 'active buffer' arrays;
#X text 223 290 if there are other keys being held \, simply sets this
cell negative in the 'active' \, and 'active buffer' arrays;
#X obj 80 109 t f b f;
#N canvas 859 502 450 300 copy_saved_to_active 0;
#X obj 262 133 r \$0-current_step_s;
#X obj 25 129 t f f;
#X obj 25 109 tabread \$0-breakbeat_cells_saved;
#X obj 25 88 t f f;
#X obj 262 154 expr floor($f1/4);
#X obj 52 190 tabwrite \$0-breakbeat_cells_active;
#N canvas 0 23 450 300 conditional_for_loop 0;
#X obj 92 104 t b b, f 7;
#X msg 92 125 8;
#X obj 92 146 until;
#X obj 92 167 f, f 7;
#X obj 116 188 + 1;
#X msg 131 125 0;
#X obj 92 209 outlet;
#X obj 92 62 t b f, f 6;
#X obj 92 83 spigot;
#X obj 92 41 == 0;
#X obj 92 21 inlet;
#X connect 0 0 1 0;
#X connect 0 1 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 0 0;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X restore 25 66 pd conditional_for_loop;
#N canvas 755 75 450 300 update_active_buffer 0;
#X obj 77 23 inlet;
#X obj 77 194 swap;
#X obj 77 215 pack f f;
#X obj 77 236 s \$0-breakbeat_cells_draw_update;
#X obj 134 171 tabwrite \$0-breakbeat_cells_active_buffer;
#X obj 335 46 inlet;
#X obj 134 149 expr if($f3==$f2 \, 1 \, $f1), f 31;
#X obj 134 64 t f f f, f 31;
#X obj 77 64 t f f;
#X obj 134 23 inlet;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 5 0 6 2;
#X connect 6 0 4 0;
#X connect 7 0 1 1;
#X connect 7 1 6 1;
#X connect 7 2 4 1;
#X connect 8 0 1 0;
#X connect 8 1 6 0;
#X connect 9 0 7 0;
#X restore 25 170 pd update_active_buffer;
#X obj 92 129 t f f;
#X obj 25 45 inlet;
#X connect 0 0 4 0;
#X connect 1 0 7 0;
#X connect 1 1 5 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 8 0;
#X connect 4 0 7 2;
#X connect 6 0 3 0;
#X connect 8 0 7 1;
#X connect 8 1 5 1;
#X connect 9 0 6 0;
#X restore 126 232 pd copy_saved_to_active;
#N canvas 0 23 450 300 set_cell_negative 0;
#X obj 73 56 inlet;
#X obj 190 119 tabwrite \$0-breakbeat_cells_active;
#N canvas 755 75 450 300 update_active_buffer 0;
#X obj 77 23 inlet;
#X obj 77 194 swap;
#X obj 77 215 pack f f;
#X obj 77 236 s \$0-breakbeat_cells_draw_update;
#X obj 134 171 tabwrite \$0-breakbeat_cells_active_buffer;
#X obj 335 46 inlet;
#X obj 134 149 expr if($f3==$f2 \, 1 \, $f1), f 31;
#X obj 134 64 t f f f, f 31;
#X obj 77 64 t f f;
#X obj 77 44 unpack f f;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 5 0 6 2;
#X connect 6 0 4 0;
#X connect 7 0 1 1;
#X connect 7 1 6 1;
#X connect 7 2 4 1;
#X connect 8 0 1 0;
#X connect 8 1 6 0;
#X connect 9 0 8 0;
#X connect 9 1 7 0;
#X restore 73 189 pd update_active_buffer;
#X msg 190 99 0 \$1;
#X msg 73 99 0 \$1;
#X obj 73 78 t f f, f 20;
#X obj 208 147 r \$0-current_step_s;
#X obj 208 168 expr floor($f1/4);
#X connect 0 0 5 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X connect 5 1 3 0;
#X connect 6 0 7 0;
#X connect 7 0 2 1;
#X restore 81 293 pd set_cell_negative;
#X obj 99 211 t f f;
#X obj 81 272 spigot;
#N canvas 0 23 450 300 copy_active_to_saved_and_zero_active 0;
#X obj 76 17 inlet;
#X obj 76 59 t f f f, f 19;
#N canvas 0 23 450 300 conditional_for_loop 0;
#X obj 92 62 t b f, f 6;
#X obj 92 83 spigot;
#X obj 92 104 t b b, f 7;
#X msg 92 125 8;
#X obj 92 146 until;
#X obj 92 167 f, f 7;
#X obj 116 188 + 1;
#X msg 131 125 0;
#X obj 92 209 outlet;
#X obj 92 41 == 0;
#X obj 92 20 inlet;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 7 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X restore 76 38 pd conditional_for_loop;
#X obj 211 190 r \$0-current_step_s;
#X obj 211 211 expr floor($f1/4);
#X obj 76 232 expr if($f2==$f1 \, 1 \, 0);
#X obj 76 106 t f f f;
#X msg 115 127 0 \$1;
#X obj 131 101 tabwrite \$0-breakbeat_cells_saved;
#X obj 131 80 tabread \$0-breakbeat_cells_active;
#X obj 122 148 tabwrite \$0-breakbeat_cells_current_keys_held;
#X obj 115 170 tabwrite \$0-breakbeat_cells_active;
#N canvas 487 23 450 300 update_active_buffer 0;
#X obj 84 43 inlet;
#X obj 134 43 inlet;
#X obj 84 104 swap;
#X obj 84 125 pack f f;
#X obj 84 146 s \$0-breakbeat_cells_draw_update;
#X obj 84 64 t f f;
#X obj 134 64 t f f, f 31;
#X obj 148 101 tabwrite \$0-breakbeat_cells_active_buffer;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X connect 5 1 7 0;
#X connect 6 0 2 1;
#X connect 6 1 7 1;
#X restore 76 253 pd update_active_buffer;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 1 1 9 0;
#X connect 1 2 8 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 12 0;
#X connect 6 0 5 0;
#X connect 6 1 12 1;
#X connect 6 2 7 0;
#X connect 7 0 10 0;
#X connect 7 0 11 0;
#X connect 9 0 8 0;
#X restore 106 374 pd copy_active_to_saved_and_zero_active;
#X text 359 353 if there are no current keys being held \, copy current
'active' array to the 'saved' array \, then zero the 'current keys
held' \, 'active' \, and 'active buffer' arrays;
#X text 394 469 if there are other keys being held \, simply sets this
cell positive in the 'active' \, 'active buffer' \, and 'current keys
held' arrays;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 19 0;
#X connect 5 0 24 0;
#X connect 6 0 7 0;
#X connect 6 1 5 0;
#X connect 7 0 11 0;
#X connect 7 1 10 0;
#X connect 9 0 12 0;
#X connect 9 1 12 1;
#X connect 10 0 8 0;
#X connect 11 0 9 0;
#X connect 13 0 22 0;
#X connect 15 0 14 0;
#X connect 19 0 23 0;
#X connect 19 1 13 0;
#X connect 19 2 15 0;
#X connect 22 0 23 1;
#X connect 22 1 20 0;
#X connect 23 0 21 0;
#X restore 467 230 pd breakbeat_handler;
#N canvas 338 468 450 300 sequencer_handler 0;
#X obj 95 64 == 127;
#X obj 38 84 spigot, f 10;
#X obj 38 44 unpack f f;
#X obj 38 23 inlet;
#X obj 38 145 +;
#X obj 53 104 r \$0-sequence_selector;
#X obj 53 125 * 8;
#X obj 38 166 t b f;
#X obj 38 227 s, f 5;
#X obj 65 186 pack f f;
#X obj 110 145 loadbang;
#X obj 110 166 f \$0;
#X msg 65 207 symbol \$2-omni_strip_\$1_r;
#X connect 0 0 1 1;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 2 1 0 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 9 1;
#X connect 12 0 8 1;
#X restore 606 231 pd sequencer_handler;
#N canvas 866 251 450 300 instrument_selector_handler 0;
#X obj 44 37 inlet;
#X obj 101 77 == 127;
#X obj 44 97 spigot, f 10;
#X obj 44 57 unpack f f;
#X obj 44 178 +;
#X obj 59 158 * 8;
#X obj 59 117 r \$0-instrument_selector;
#X obj 54 199 s \$0-current_instrument_r;
#X obj 59 138 - 4;
#X obj 44 219 s \$0-current_instrument_s;
#X connect 0 0 3 0;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 4 1;
#X connect 6 0 8 0;
#X connect 8 0 5 0;
#X restore 745 231 pd instrument_selector_handler;
#X connect 0 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 6 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 5 2 3 0;
#X connect 5 3 4 0;
#X connect 5 4 7 0;
#X connect 5 5 8 0;
#X connect 5 6 9 0;
#X connect 5 7 10 0;
#X connect 5 9 21 0;
#X connect 5 10 22 0;
#X connect 5 11 23 0;
#X connect 5 12 24 0;
#X connect 5 13 25 0;
#X connect 5 14 26 0;
#X connect 5 15 27 0;
#X connect 5 16 28 0;
#X connect 6 0 11 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 12 1 13 0;
#X connect 13 0 15 0;
#X connect 13 0 18 0;
#X connect 13 1 16 0;
#X connect 13 1 19 0;
#X connect 14 0 17 0;
#X connect 15 0 17 0;
#X connect 16 0 17 0;
#X connect 20 0 30 0;
#X connect 21 0 20 0;
#X connect 22 0 20 0;
#X connect 23 0 20 0;
#X connect 24 0 20 0;
#X connect 25 0 20 0;
#X connect 26 0 20 0;
#X connect 27 0 20 0;
#X connect 28 0 20 0;
#X connect 29 0 20 1;
#X connect 30 0 31 0;
#X connect 30 1 32 0;
#X connect 30 2 33 0;
#X restore 1034 162 pd midi_breakout_scene_1_buttons;
#X obj 1114 31 inlet;
#N canvas 334 267 592 300 midi_breakout_extra_buttons 0;
#X obj 5 16 inlet;
#X obj 5 37 route 0 1 2 3 4 5;
#X obj 38 182 == 127;
#X obj 38 224 spigot;
#X obj 38 203 t b f, f 6;
#X obj 87 162 == 127;
#X obj 87 204 spigot;
#X obj 87 183 t b f, f 6;
#X obj 38 245 s \$0-instrument_up_s;
#X obj 87 225 s \$0-instrument_down_s;
#X connect 0 0 1 0;
#X connect 1 2 2 0;
#X connect 1 5 5 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X restore 1114 122 pd midi_breakout_extra_buttons;
#N canvas 651 217 567 528 propogate_instrument_changes 0;
#X obj 38 35 r \$0-current_instrument_s;
#X msg 38 77 32;
#X obj 38 98 until;
#X obj 38 119 f, f 7;
#X obj 77 140 + 1;
#X msg 81 77 0;
#X obj 38 56 t b b f, f 13;
#X obj 164 103 loadbang;
#X obj 164 124 f \$0;
#X obj 113 144 pack f f, f 9;
#X msg 113 165 set \$2-instrument_array_\$1;
#X obj 38 181 tabread;
#X obj 38 160 t f f, f 9;
#X obj 38 265 s;
#X obj 89 205 pack f f, f 10;
#X msg 89 226 symbol \$2-omni_strip_vel_\$1_r;
#X obj 374 114 f;
#X obj 312 257 s \$0-current_instrument_s;
#X obj 389 94 r \$0-current_instrument_r;
#X obj 322 237 s \$0-current_instrument_r;
#X obj 297 65 t b b;
#X obj 374 135 t f f;
#X obj 374 156 + 1;
#X obj 401 156 - 1;
#X obj 312 217 clip 0 29;
#X obj 297 197 f;
#X obj 324 197 f;
#X obj 347 65 t b b;
#X obj 297 23 r \$0-instrument_up_s;
#X obj 347 43 r \$0-instrument_down_s;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 12 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 6 1 5 0;
#X connect 6 2 9 0;
#X connect 7 0 8 0;
#X connect 8 0 9 1;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 12 1 14 0;
#X connect 14 0 15 0;
#X connect 15 0 13 1;
#X connect 16 0 21 0;
#X connect 18 0 16 1;
#X connect 20 0 25 0;
#X connect 20 1 16 0;
#X connect 21 0 22 0;
#X connect 21 1 23 0;
#X connect 22 0 25 1;
#X connect 23 0 26 1;
#X connect 24 0 19 0;
#X connect 24 0 17 0;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 26 0;
#X connect 27 1 16 0;
#X connect 28 0 20 0;
#X connect 29 0 27 0;
#X restore 46 525 pd propogate_instrument_changes;
#X obj 123 147 bng 20 250 50 0 \$0-instrument_up_s \$0-instrument_up_r
empty 17 7 0 10 -262144 -1 -1;
#X obj 123 177 bng 20 250 50 0 \$0-instrument_down_s \$0-instrument_down_r
empty 17 7 0 10 -262144 -1 -1;
#N canvas 842 422 450 420 render_midi_out 0;
#X obj 78 25 r \$0-current_step_s;
#X msg 78 67 30;
#X msg 166 67 0;
#X obj 78 88 until;
#X obj 78 109 f, f 8;
#X obj 108 130 + 1;
#X obj 105 170 pack f f;
#X obj 150 128 loadbang;
#X obj 150 149 f \$0;
#X msg 105 191 set \$2-instrument_array_\$1;
#X obj 83 266 tabread;
#X obj 83 232 f, f 38;
#X obj 38 327 pack f f;
#X obj 78 150 t f b f;
#X obj 38 348 outlet;
#X obj 38 306 spigot;
#X obj 83 287 t f f;
#X obj 78 46 t b b f, f 30;
#X connect 0 0 17 0;
#X connect 1 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 13 0;
#X connect 5 0 4 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 10 0 16 0;
#X connect 11 0 10 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 13 1 11 0;
#X connect 13 2 6 0;
#X connect 15 0 12 0;
#X connect 16 0 15 1;
#X connect 16 1 12 1;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 11 1;
#X restore 854 489 pd render_midi_out;
#X obj 854 510 list prepend 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-breakbeat_cells_saved 8 float 2;
#X coords 0 1 8 0 80 10 1 0 0;
#X restore 206 330 graph;
#N canvas 0 23 450 278 (subpatch) 0;
#X array \$0-breakbeat_cells_current_keys_held 8 float 2;
#X coords 0 1 8 0 80 10 1 0 0;
#X restore 206 360 graph;
#N canvas 0 23 450 278 (subpatch) 0;
#X array \$0-breakbeat_cells_active_buffer 8 float 2;
#X coords 0 1 8 0 80 10 1 0 0;
#X restore 206 300 graph;
#X obj 309 50 bng 20 250 50 0 \$0-load_pattern_s \$0-load_pattern_r
empty 17 7 0 10 -262144 -1 -1;
#X obj 309 50 cnv 15 20 20 empty empty load_pattern 25 12 0 20 -201743
-1 0;
#X obj 509 50 bng 20 250 50 0 \$0-save_pattern_s \$0-save_pattern_r
empty 17 7 0 10 -262144 -1 -1;
#X obj 509 50 cnv 15 20 20 empty empty save_pattern 25 12 0 20 -201743
-1 0;
#N canvas 222 233 1194 491 save_and_load_pattern 0;
#X obj 33 21 r \$0-save_pattern_s;
#X obj 544 21 r \$0-load_pattern_s;
#X obj 33 456 textfile;
#X msg 372 409 clear;
#X obj 33 372 savepanel;
#N canvas 0 23 450 300 for_loop 0;
#X obj 117 47 inlet;
#X obj 117 68 t b b, f 8;
#X msg 117 89 30;
#X obj 117 110 until;
#X msg 162 89 0;
#X obj 117 131 f, f 8;
#X obj 147 152 + 1;
#X obj 117 172 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X restore 33 63 pd for_loop;
#N canvas 0 23 450 300 for_loop 0;
#X obj 77 31 inlet;
#X obj 77 155 pack f f, f 16;
#X obj 77 93 until;
#X msg 116 93 0;
#X obj 77 114 f, f 7;
#X obj 101 135 + 1;
#X msg 77 72 32;
#X obj 77 176 outlet;
#X obj 77 52 t b b f, f 16;
#X connect 0 0 8 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 5 0 4 1;
#X connect 6 0 2 0;
#X connect 8 0 6 0;
#X connect 8 1 3 0;
#X connect 8 2 1 1;
#X restore 33 84 pd for_loop;
#X obj 211 167 unpack f f;
#X obj 211 230 tabread;
#X obj 268 187 pack f f;
#X obj 313 146 loadbang;
#X obj 313 167 f \$0;
#X msg 268 208 set \$2-instrument_array_\$1;
#X obj 148 251 pack f f f, f 11;
#X text 266 244 outputs [instrument \, step \, value] tuples;
#X text 122 73 outputs [step \, instrument] tuples;
#X msg 148 399 add \$2 \$1 \$3;
#X obj 33 42 t b b, f 57;
#X obj 33 106 t list list list, f 39;
#X obj 33 309 expr if($f1 == 31 && $f2 == 29 \, 1 \, 0);
#X obj 33 330 t b f, f 6;
#X obj 33 351 spigot;
#X obj 544 42 openpanel;
#X obj 544 125 textfile;
#X obj 544 105 until;
#X obj 544 63 t b b s, f 20;
#X msg 602 109 rewind;
#X msg 33 393 write \$1 cr;
#X msg 661 109 read \$1 cr;
#X text 613 154 reads [instrument \, step \, value] tuples;
#X obj 544 326 tabwrite;
#X obj 613 274 pack f f;
#X obj 658 233 loadbang;
#X obj 658 254 f \$0;
#X msg 613 295 set \$2-instrument_array_\$1;
#X msg 544 146 \$3 \$2 \$1;
#X text 613 174 outputs [value \, step \, instrument] tuples;
#X obj 544 254 unpack f f f;
#X msg 544 84 961;
#X msg 919 141 0;
#X obj 939 162 s \$0-current_instrument_r;
#X text 959 136 update visuals;
#X obj 919 182 s \$0-current_instrument_s;
#X connect 0 0 17 0;
#X connect 1 0 22 0;
#X connect 3 0 2 0;
#X connect 4 0 27 0;
#X connect 5 0 6 0;
#X connect 6 0 18 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 13 2;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 9 1;
#X connect 12 0 8 0;
#X connect 13 0 16 0;
#X connect 16 0 2 0;
#X connect 17 0 5 0;
#X connect 17 1 3 0;
#X connect 18 0 19 0;
#X connect 18 1 13 0;
#X connect 18 2 7 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 1 21 1;
#X connect 21 0 4 0;
#X connect 22 0 25 0;
#X connect 23 0 35 0;
#X connect 23 1 39 0;
#X connect 24 0 23 0;
#X connect 25 0 38 0;
#X connect 25 1 26 0;
#X connect 25 2 28 0;
#X connect 26 0 23 0;
#X connect 27 0 2 0;
#X connect 28 0 23 0;
#X connect 31 0 34 0;
#X connect 32 0 33 0;
#X connect 33 0 31 1;
#X connect 34 0 30 0;
#X connect 35 0 37 0;
#X connect 37 0 30 0;
#X connect 37 1 30 1;
#X connect 37 2 31 0;
#X connect 38 0 24 0;
#X connect 39 0 40 0;
#X connect 39 0 42 0;
#X restore 46 715 pd save_and_load_pattern;
#X obj 206 420 clone headless/processorinstrumentarraymemorycells 30
\$0;
#X obj 46 595 clone headless/processoromnistripdrawupdate 32 \$0;
#X obj 46 495 clone headless/processorpropogateomnistrip 32 \$0;
#X connect 140 0 149 0;
#X connect 142 0 153 0;
#X connect 147 0 145 0;
#X connect 151 0 152 0;
#X connect 154 0 155 0;
#X connect 159 0 160 0;
#X connect 160 0 144 0;
#X coords 0 -1 1 1 740 180 2 60 40;
